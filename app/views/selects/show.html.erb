<body><div class="container">

<div class="panel panel-danger">
  <div class="panel-body">
    <strong>Lesson Name, Description, and Objective</strong>
  </div></div>
<% if current_user?(@select.user) %>
<center>

<h4>Close Reading of <i><%= @select.book.title %></i></h4>

<h4>Description: <%= best_in_place @select, :description, :type => :textarea, :nil => "Click here to add a description", :html_attrs => { :style => 'width:100%;' } %></h4>
<h4>Objective: <%= best_in_place @select, :objective, :type => :textarea, :nil => "Click here to add an objective", :html_attrs => { :style => 'width:100%;' } %></h4>
<h4>Title: <%= best_in_place @select, :name, :nil => "Click here to add a lesson name", :html_attrs => { :style => 'width:100%;' } %> - Date Created: <%= @select.date.to_time.strftime('%B %e, %Y') %></h4><br />


<%= image_tag @select.book.image.url(:medium) %>

</center><br />
<% else %>
<center>
<h4>Title: <%= @select.name %></h4>

<h4>Description: <%= @select.description %></h4>
<h4>Objective: <%= @select.objective %></h4>
<h4>Date Created: <%= @select.date.to_time.strftime('%B %e, %Y') %></h4><br />
<%= image_tag @select.book.image.url(:medium) %>
</center><br />
<% end %>


                
<table class="table table-condensed table-hover table-bordered" id="standards">


        
                <% @standards.each do |standard| %>

                <th colspan="2">
                        Standard and Resources
                </th>

                <tbody>

                                    <tr>
                                <td colspan="2" class="resource">Standard</td></tr>
                        
                        
                        <tr>
                                <td colspan="2" class="std">
                                <ul type="disc">
                                <li><h4><%= standard.id %>: <%= standard.content %></h4></li></ul></td></tr>
                        
                        <tr>
                                        <td width="50%" class="resource">
                                        Questions
                                </td>
                                        <td width="50%" class="resource">
                                        Skills
                                </td>
                        </tr>
                        
                        <tr>
                                <td class="standard">
                                        <% standard.select_questions.where(:select_id => @select).each do |squestion| %>
                                                <ul type="disc">
                                                        <li>
                                                <% if current_user?(@select.user) %>
                                                        <%= best_in_place squestion, :content, :nil => "Click here to add content", :html_attrs => { :style => 'width:100%;' } %>
                                                        <% else %>
                                                        <%= squestion.content %>
                                                        <% end %>
                                                        </li>
                                                </ul>
                                                
                                        <% end %>
                                        
                                        <% standard.cquestions.where(:select_id => @select).each do |cquestion| %>
                                        <ul type="disc">
                                                <li>
                                        <font color="red"><%= cquestion.content %></font>
                                                </li>
                                        </ul>
                                        <% end %>
                            </td>

                                <td class="standard">
                                        <% standard.select_skills.where(:select_id => @select).each do |sskill| %>
                                        <ul type="disc">
                                                <li>
                                                <% if current_user?(@select.user) %>
                                                        <%= best_in_place sskill, :content, :nil => "Click here to add content", :html_attrs => { :style => 'width:100%;' } %>
                                                        <% else %>
                                                        <%= sskill.content %>
                                                        <% end %>
                                                </li>
                                        </ul>
                                        <% end %>
                                        
                                        <% standard.cskills.where(:select_id => @select).each do |cskill| %>
                                        <ul type="disc">
                                                <li>
                                        <font color="red"><%= cskill.content %></font>
                                                </li>
                                        </ul>
                                                <% end %>
                            </td>
                        </tr>

                        <tr>
                                        <td width="50%" class="resource">
                                        Vocabulary
                                </td>
                                        <td width="50%" class="resource">
                                        Strategies
                                </td>
                        </tr>        
                
                        <tr>
                                <td class="standard">
                                        <% standard.select_vocabs.where(:select_id => @select).each do |svocab| %>
                                        <ul type="disc">
                                                <li>
                                                <% if current_user?(@select.user) %>
                                                        <%= best_in_place svocab, :content_english, :nil => "Click here to add content", :html_attrs => { :style => 'width:100%;' } %>
                                                        <% else %>
                                                    <%= svocab.content_english %>
                                                        <% end %>
                                                </li>
                                        </ul>
                                        <% end %>
                                        
                                        <% standard.cvocabs.where(:select_id => @select).each do |cvocab| %>
                                        <ul type="disc">
                                                <li>
                                        <font color="red"><%= best_in_place cvocab, :content %></font>
                                                </li>
                                        </ul>
                                        <% end %>
                            </td>
                                
                                <td class="standard">
                                        <% standard.select_strategies.where(:select_id => @select).each do |sstrategy| %>
                                        <ul type="disc">
                                                <li>
                                                <% if current_user?(@select.user) %>
                                                        <%= best_in_place sstrategy, :content, :nil => "Click here to add content", :html_attrs => { :style => 'width:100%;' } %>
                                                        <% else %>
                                                        <%= sstrategy.content %>
                                                        <% end %>
                                                </li>
                                        </ul>
                                        <% end %>
                                        
                                        <% standard.cstrategies.where(:select_id => @select).each do |cstrategy| %>
                                        <ul type="disc">
                                                <li>
                                        <font color="red"><%= best_in_place cstrategy, :content %></font>
                                                </li>
                                        </ul>
                                        <% end %>
                            </td>
                        </tr>
                        
                        <tr>
                                <td colspan="2" class="resource">Resources</td></tr>
                                <tr>



                                <td colspan="2" class="standard">

                                        <% standard.select_links.where(:select_id => @select).each do |slink| %>
                                        <ul type="disc">
                                                <li>
                                                <% if current_user?(@select.user) %>
                                                        <%= best_in_place slink, :comment, :type => :textarea, :nil => "Click here to add content", :html_attrs => { :style => 'width:100%;' } %> <br /><%= truncate(Rinku.auto_link(slink.link.link), :length=>300).html_safe %>
                                                        <% else %>
                                                        <%= slink.comment %><br /><%= truncate(Rinku.auto_link(slink.link.link), :length=>300).html_safe %>
                                                        <% end %>
                                                </li>
                                        </ul>
                                                                        <% end %>
                                        
                                        <% standard.clinks.where(:select_id => @select).each do |clink| %>
                                        <ul type="disc">
                                                <li>
                                        <font color="red"><%= clink.comment %></h4><%= truncate(Rinku.auto_link(clink.link), :length=>300).html_safe %></font>
                                                </li>
                                        </ul>

                                        <% end %>

                                </td>
                        </tr>    
<% end %>

                </tbody>

</table><br />
<div class="panel panel-danger">
  <div class="panel-body">
    <strong>Overview</strong>
  </div></div>
 <% if current_user?(@select.user) %>
 <%= best_in_place @select, :notes, :classes => 'input_field', :type => :textarea, :display_with => :simple_format,
      :html_attrs => { :style => 'width:100%; height:100px;' } %>
          <% else %>
          <%= simple_format(@select.notes).html_safe %>
          <% end %>
<br />


<div class="panel panel-danger">
  <div class="panel-body">
    <strong>Reading</strong>
  </div></div>
<% if current_user?(@select.user) %>
 <%= best_in_place @select, :writing, :classes => 'input_field', :type => :textarea, :display_with => :simple_format,
      :html_attrs => { :style => 'width:100%; height:100px;' } %>
          <% else %>
          <%= simple_format(@select.writing).html_safe %>
          <% end %><br />

  <div class="panel panel-danger">
  <div class="panel-body">
    <strong>Text-Dependent Questions</strong>
  </div></div>
<% if current_user?(@select.user) %>
 <%= best_in_place @select, :textdependent, :classes => 'input_field', :type => :textarea, :display_with => :simple_format,
      :html_attrs => { :style => 'width:100%; height:100px;' } %>
          <% else %>
          <%= simple_format(@select.textdependent).html_safe %>
          <% end %><br />

<div class="panel panel-danger">
  <div class="panel-body">
    <strong>Vocabulary</strong>
  </div></div>

<% if current_user?(@select.user) %>
 <%= best_in_place @select, :vocabulary, :classes => 'input_field', :type => :textarea, :display_with => :simple_format,
      :html_attrs => { :style => 'width:100%; height:100px;' } %>
          <% else %>
          <%= simple_format(@select.vocabulary).html_safe %>
          <% end %><br />




<div class="panel panel-danger">
  <div class="panel-body">
    <strong>Conclusion</strong>
  </div></div>
<% if current_user?(@select.user) %>
 <%= best_in_place @select, :conclusion, :classes => 'input_field', :type => :textarea, :display_with => :simple_format,
      :html_attrs => { :style => 'width:100%; height:500px;' } %>
          <% else %>
          <%= simple_format(@select.conclusion).html_safe %>
          <% end %><br />


<div id="pdflink">

<% if current_user?(@select.user) %>

        <table table-hover>
                <tr>
                        <td>
                                <%= link_to "Add Question", new_select_cquestion_path(@select),  class: "btn btn"  %><br />
                        </td>

                        <td>        
                                <%= link_to "Add Skill", new_select_cskill_path(@select), class: "btn" %><br />
                        </td>
                        
                        <td>        
                                <%= link_to "Add Vocabulary Word", new_select_cvocab_path(@select), class: "btn" %><br />
                        </td>
                        
                        <td>        
                                <%= link_to "Add Strategy", new_select_cstrategy_path(@select), class: "btn" %><br />
                        </td>
                        <td>        
                                <%= link_to "Add Resource", new_select_clink_path(@select), class: "btn" %><br />
                        </td>
                </tr>
</table>


<br /><%= link_to "Edit Lesson", lesson_steps_path(:select_id => @select.id), class: "btn" %><%= link_to "Save as PDF", select_path(@select, format: "pdf"), class: "btn" %>

<% else %>
<strong>Created by <%= link_to @select.user.name, @select.user %></strong>
<% end %></div>
</div></body>
<style type="text/css">

#standards th{

    border: 1px solid black;
 font-size: 24px;
 color: #FFF;
 background-color:   #009ACD;
 padding: 1px 1px;
 padding-bottom: 1px;
 text-align: center;
}

#standards .resource {
  page-break-inside: avoid !important;
    border: 1px solid black;
    font-size: 20px;
 background-color: #ededed;
 color:      #009ACD;
  text-align: center;
   padding: 1px 1px;
 padding-bottom: 1px;
}

#standards .std {

    border: 1px solid black;
 font-size: 22px;
 font-style: bold;
 padding: 4px 18px;
}

#standards .standard {
  page-break-inside: avoid !important;
    border: 1px solid black;
 font-size: 20px;
 padding: 4px 18px;
}

#table_list .even td {
 background-color: #E3E6FF;
}

#table_list .odd td {
 background-color: #D1D8F6;
}

.page-break { 
  clear: both !important;
  display: block !important;
  page-break-before: always !important;
}

.panel-danger,
.panel-header {
color: #FFF;
background-color: #009ACD;
border-color: #009ACD;
 padding: 1px 1px;
 padding-bottom: 1px;
 text-align: center;
 font-size: 24px;
.panel-footer {
  
}
}




@media print {
        #pdflink {
                display: none;
        }

#standards
th {
  page-break-before: always !important;

}

      #standards 
table, tr, td, th, tbody, thead, tfoot {
    page-break-inside: avoid !important;
}

}
table, tr, td, th, tbody, thead, tfoot {
    page-break-inside: avoid !important;
}
a:link {color:#00BFFF;}      /* unvisited link */
a:visited {color:#00BFFF;}  /* visited link */
a:hover {background-color:#FFFFFF;}  /* mouse over link */
a:active {color:#00BFFF;}

</style>
<script>
$('.highlight_on_success').bind("ajax:success", function(){$(this).closest('tr').effect('highlight'));});
</script>
<script>
$(document).ready(function() {
  $("a").click(function() {
    link_host = this.href.split("/")[2];
    document_host = document.location.href.split("/")[2];

    if (link_host != document_host) {
      window.open(this.href);
      return false;
    }
  });
});
</script>